<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础类型 | Keep learning</title>
    <meta name="description" content="keep learning">
    
    
    <link rel="preload" href="/assets/css/0.styles.ef148202.css" as="style"><link rel="preload" href="/assets/js/app.67e7f428.js" as="script"><link rel="preload" href="/assets/js/17.3640e356.js" as="script"><link rel="prefetch" href="/assets/js/10.9e81d398.js"><link rel="prefetch" href="/assets/js/11.677d4ba6.js"><link rel="prefetch" href="/assets/js/12.51d6780b.js"><link rel="prefetch" href="/assets/js/13.a1724e18.js"><link rel="prefetch" href="/assets/js/14.28dd4294.js"><link rel="prefetch" href="/assets/js/15.f2a7689f.js"><link rel="prefetch" href="/assets/js/16.cd9f0474.js"><link rel="prefetch" href="/assets/js/18.0e89fc94.js"><link rel="prefetch" href="/assets/js/19.660c385c.js"><link rel="prefetch" href="/assets/js/2.c18e3c75.js"><link rel="prefetch" href="/assets/js/20.a70e4495.js"><link rel="prefetch" href="/assets/js/21.b7b4380c.js"><link rel="prefetch" href="/assets/js/22.7fe8571d.js"><link rel="prefetch" href="/assets/js/23.9c246f12.js"><link rel="prefetch" href="/assets/js/24.4ebab5c7.js"><link rel="prefetch" href="/assets/js/25.e0f6c8dc.js"><link rel="prefetch" href="/assets/js/26.667a1084.js"><link rel="prefetch" href="/assets/js/27.484b1e43.js"><link rel="prefetch" href="/assets/js/28.e08b6058.js"><link rel="prefetch" href="/assets/js/29.0901b7fb.js"><link rel="prefetch" href="/assets/js/3.1660a1d9.js"><link rel="prefetch" href="/assets/js/30.5c5cb9f5.js"><link rel="prefetch" href="/assets/js/31.381f1dec.js"><link rel="prefetch" href="/assets/js/32.8f68533f.js"><link rel="prefetch" href="/assets/js/33.74cd6521.js"><link rel="prefetch" href="/assets/js/34.9d137b36.js"><link rel="prefetch" href="/assets/js/35.50b3f97d.js"><link rel="prefetch" href="/assets/js/36.1ba216f1.js"><link rel="prefetch" href="/assets/js/37.39b36aaf.js"><link rel="prefetch" href="/assets/js/38.d86ece5f.js"><link rel="prefetch" href="/assets/js/39.ed51f794.js"><link rel="prefetch" href="/assets/js/4.46657140.js"><link rel="prefetch" href="/assets/js/40.d1f5f3e3.js"><link rel="prefetch" href="/assets/js/41.cfb412eb.js"><link rel="prefetch" href="/assets/js/42.4e699448.js"><link rel="prefetch" href="/assets/js/43.e22ec204.js"><link rel="prefetch" href="/assets/js/44.0421ffff.js"><link rel="prefetch" href="/assets/js/45.58b817ec.js"><link rel="prefetch" href="/assets/js/46.541083b5.js"><link rel="prefetch" href="/assets/js/5.12d27dc6.js"><link rel="prefetch" href="/assets/js/6.25c40935.js"><link rel="prefetch" href="/assets/js/7.0b9bcdd6.js"><link rel="prefetch" href="/assets/js/8.c8621244.js"><link rel="prefetch" href="/assets/js/9.5e4b7b3b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ef148202.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Keep learning</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/haskell/" class="sidebar-link">简介</a></li><li><a href="/haskell/01.types.html" class="active sidebar-link">基础类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haskell/01.types.html#number" class="sidebar-link">Number</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haskell/01.types.html#int" class="sidebar-link">Int</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#integer" class="sidebar-link">Integer</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#float" class="sidebar-link">Float</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#double" class="sidebar-link">Double</a></li></ul></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#bool-boolean" class="sidebar-link">Bool (Boolean)</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#char-char" class="sidebar-link">Char [Char]</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#list" class="sidebar-link">List</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haskell/01.types.html#合并操作符" class="sidebar-link">合并操作符 ++</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#插入操作符" class="sidebar-link">插入操作符 :</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#下标取值操作符" class="sidebar-link">下标取值操作符!!</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#head-取第一个元素" class="sidebar-link">head 取第一个元素</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#tail-除去头部之后的部分" class="sidebar-link">tail 除去头部之后的部分</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#last-取最后一个" class="sidebar-link">last 取最后一个</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#init-除去最后之前的部分" class="sidebar-link">init 除去最后之前的部分</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#length-长度" class="sidebar-link">length 长度</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#null-判断是否为空" class="sidebar-link">null 判断是否为空</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#reverse-将-list-反转" class="sidebar-link">reverse 将 List 反转</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#take-返回-list-的前几个元素" class="sidebar-link">take 返回 List 的前几个元素</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#drop-删除-list-的前几个元素" class="sidebar-link">drop 删除 List 的前几个元素</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#maximum-返回最大的元素" class="sidebar-link">maximum 返回最大的元素</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#sum-返回-list-中所有元素的和" class="sidebar-link">sum 返回 List 中所有元素的和</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#product-返回一个-list-中所有元素的积" class="sidebar-link">product 返回一个 List 中所有元素的积</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#elem-判断元素是否包含于-list" class="sidebar-link">elem 判断元素是否包含于 List</a></li></ul></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#list-range" class="sidebar-link">List range</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haskell/01.types.html#跨度" class="sidebar-link">跨度</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#无限-list" class="sidebar-link">无限 list</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#cycle-循环" class="sidebar-link">cycle 循环</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#repeat-重复" class="sidebar-link">repeat 重复</a></li></ul></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#list-comprehension-集合" class="sidebar-link">list Comprehension(集合)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haskell/01.types.html#添加过滤" class="sidebar-link">添加过滤</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#改变输出" class="sidebar-link">改变输出</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#多种限制条件" class="sidebar-link">多种限制条件</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#多个-list-中取元素" class="sidebar-link">多个 List 中取元素</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#发挥你的想象" class="sidebar-link">发挥你的想象</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#嵌套" class="sidebar-link">嵌套</a></li></ul></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#tuple-元祖" class="sidebar-link">Tuple(元祖)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haskell/01.types.html#fst-返回序对的首项" class="sidebar-link">fst 返回序对的首项</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#snd-返回序对的尾项" class="sidebar-link">snd 返回序对的尾项</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#zip-生成序对-list" class="sidebar-link">zip 生成序对 List</a></li><li class="sidebar-sub-header"><a href="/haskell/01.types.html#练习" class="sidebar-link">练习</a></li></ul></li></ul></li><li><a href="/haskell/02.typeclass.html" class="sidebar-link">类型签名</a></li><li><a href="/haskell/03.function.html" class="sidebar-link">函数语法</a></li><li><a href="/haskell/04.recursion.html" class="sidebar-link">递归</a></li><li><a href="/haskell/05.high-order.html" class="sidebar-link">高阶函数</a></li><li><a href="/haskell/06.module.html" class="sidebar-link">模块</a></li><li><a href="/haskell/07.build-typeclass.html" class="sidebar-link">构建 类型 类型类</a></li><li><a href="/haskell/08.input-output.html" class="sidebar-link">输入输出</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="基础类型"><a href="#基础类型" aria-hidden="true" class="header-anchor">#</a> 基础类型</h1> <h2 id="number"><a href="#number" aria-hidden="true" class="header-anchor">#</a> Number</h2> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">15</span>
<span class="token number">17</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">49</span> <span class="token operator">*</span> <span class="token number">100</span>
<span class="token number">4900</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">1892</span> <span class="token operator">-</span> <span class="token number">1472</span>
<span class="token number">420</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">/</span> <span class="token number">2</span>
<span class="token number">2.5</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">50</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">-</span> <span class="token number">4999</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="int"><a href="#int" aria-hidden="true" class="header-anchor">#</a> Int</h3> <p>表示整数。7 可以是 Int，但 7.2 不可以。<br>
对 32 位的系统而言，上限一般是 2147483647，下限是 -2147483648</p> <h3 id="integer"><a href="#integer" aria-hidden="true" class="header-anchor">#</a> Integer</h3> <p>也表示整数，但是它是无界的,可以用它存放非常大的数。它的效率不如 Int 高。</p> <h3 id="float"><a href="#float" aria-hidden="true" class="header-anchor">#</a> Float</h3> <p>表示示单精度的浮点数</p> <h3 id="double"><a href="#double" aria-hidden="true" class="header-anchor">#</a> Double</h3> <p>表示双精度的浮点数。</p> <h2 id="bool-boolean"><a href="#bool-boolean" aria-hidden="true" class="header-anchor">#</a> Bool (Boolean)</h2> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">True</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">False</span>
<span class="token constant">False</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">True</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">True</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">False</span> <span class="token operator">||</span> <span class="token constant">True</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">not</span> <span class="token constant">False</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">not</span> <span class="token punctuation">(</span><span class="token constant">True</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">True</span><span class="token punctuation">)</span>
<span class="token constant">False</span>
</code></pre></div><p>相等判断</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">==</span> <span class="token number">5</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">==</span> <span class="token number">0</span>
<span class="token constant">False</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">/=</span> <span class="token number">5</span>
<span class="token constant">False</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">/=</span> <span class="token number">4</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">&quot;hello&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;hello&quot;</span>
<span class="token constant">True</span>
</code></pre></div><h2 id="char-char"><a href="#char-char" aria-hidden="true" class="header-anchor">#</a> Char [Char]</h2> <p>Char 表示一个字符。一个字符由单引号括起。一组字符的 List 即为字符串,可以用双引号括起。</p> <h2 id="list"><a href="#list" aria-hidden="true" class="header-anchor">#</a> List</h2> <p>在 Haskell 中，List 就像现实世界中的购物单一样重要。它是最常用的数据结构，并且十分强大，灵活地使用它可以解决很多问题。</p> <blockquote><p>在 ghci 下，我们可以使用 <code>let</code> 关键字来定义常量。
我们可以在里面装一组数字或者一组字符，但不能把字符和数字装在一起。</p></blockquote> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">lostNumbers</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">48</span><span class="token punctuation">]</span>
</code></pre></div><p>若试图写 <code>[1,2,'a',3,'b','c',4]</code> 这样的 List，Haskell 就会报出这几个字符不是数字的错误。字符串实际上就是一组字符的 List，&quot;Hello&quot; 只是 <code>['h','e','l','l','o']</code> 的语法糖而已。所以我们可以使用处理 List 的函数来对字符串进行操作.</p> <h3 id="合并操作符"><a href="#合并操作符" aria-hidden="true" class="header-anchor">#</a> 合并操作符 <code>++</code></h3> <p>在使用 ++ 运算符处理长字符串时要格外小心(对长 List 也是同样)，Haskell 会遍历整个的 List(++ 符号左边的那个)。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">++</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">&quot;hello&quot;</span> <span class="token operator">++</span> <span class="token string">&quot; &quot;</span> <span class="token operator">++</span> <span class="token string">&quot;world&quot;</span>
<span class="token string">&quot;hello world&quot;</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token char">'w'</span><span class="token punctuation">,</span><span class="token char">'o'</span><span class="token punctuation">]</span> <span class="token operator">++</span> <span class="token punctuation">[</span><span class="token char">'o'</span><span class="token punctuation">,</span><span class="token char">'t'</span><span class="token punctuation">]</span>
<span class="token string">&quot;woot&quot;</span>
</code></pre></div><h3 id="插入操作符"><a href="#插入操作符" aria-hidden="true" class="header-anchor">#</a> 插入操作符 <code>:</code></h3> <p>: 运算符可以连接一个元素到一个 List 或者字符串之中. [1,2,3] 实际上是 1:2:3:[] 的语法糖。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token char">'A'</span><span class="token operator">:</span><span class="token string">&quot; SMALL CAT&quot;</span>
<span class="token string">&quot;A SMALL CAT&quot;</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">5</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="下标取值操作符"><a href="#下标取值操作符" aria-hidden="true" class="header-anchor">#</a> 下标取值操作符<code>!!</code></h3> <p>!!操作符可以按照索引取得 List 中的元素，索引的初始下标为 0</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">&quot;Steve Buscemi&quot;</span> <span class="token operator">!!</span> <span class="token number">6</span>
<span class="token char">'B'</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">9.4</span><span class="token punctuation">,</span><span class="token number">33.2</span><span class="token punctuation">,</span><span class="token number">96.2</span><span class="token punctuation">,</span><span class="token number">11.2</span><span class="token punctuation">,</span><span class="token number">23.25</span><span class="token punctuation">]</span> <span class="token operator">!!</span> <span class="token number">1</span>
<span class="token number">33.2</span>
</code></pre></div><p>使用 &gt; 和 &gt;= 可以比较 List 的大小。它会先比较第一个元素，若它们的值相等，则比较下一个，以此类推。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
</code></pre></div><h3 id="head-取第一个元素"><a href="#head-取第一个元素" aria-hidden="true" class="header-anchor">#</a> head 取第一个元素</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">head</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token number">5</span>
</code></pre></div><h3 id="tail-除去头部之后的部分"><a href="#tail-除去头部之后的部分" aria-hidden="true" class="header-anchor">#</a> tail 除去头部之后的部分</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">tail</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="last-取最后一个"><a href="#last-取最后一个" aria-hidden="true" class="header-anchor">#</a> last 取最后一个</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">last</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token number">1</span>
</code></pre></div><h3 id="init-除去最后之前的部分"><a href="#init-除去最后之前的部分" aria-hidden="true" class="header-anchor">#</a> init 除去最后之前的部分</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">init</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="length-长度"><a href="#length-长度" aria-hidden="true" class="header-anchor">#</a> length 长度</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">length</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token number">5</span>
</code></pre></div><h3 id="null-判断是否为空"><a href="#null-判断是否为空" aria-hidden="true" class="header-anchor">#</a> null 判断是否为空</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">null</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token constant">False</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">null</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
</code></pre></div><h3 id="reverse-将-list-反转"><a href="#reverse-将-list-反转" aria-hidden="true" class="header-anchor">#</a> reverse 将 List 反转</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">reverse</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="take-返回-list-的前几个元素"><a href="#take-返回-list-的前几个元素" aria-hidden="true" class="header-anchor">#</a> take 返回 List 的前几个元素</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">take</span> <span class="token number">3</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">take</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">take</span> <span class="token number">5</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">take</span> <span class="token number">0</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="drop-删除-list-的前几个元素"><a href="#drop-删除-list-的前几个元素" aria-hidden="true" class="header-anchor">#</a> drop 删除 List 的前几个元素</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">drop</span> <span class="token number">3</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">drop</span> <span class="token number">0</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">drop</span> <span class="token number">100</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="maximum-返回最大的元素"><a href="#maximum-返回最大的元素" aria-hidden="true" class="header-anchor">#</a> maximum 返回最大的元素</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">minimum</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token number">1</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">maximum</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token number">9</span>
</code></pre></div><h3 id="sum-返回-list-中所有元素的和"><a href="#sum-返回-list-中所有元素的和" aria-hidden="true" class="header-anchor">#</a> sum 返回 List 中所有元素的和</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">sum</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
<span class="token number">31</span>
</code></pre></div><h3 id="product-返回一个-list-中所有元素的积"><a href="#product-返回一个-list-中所有元素的积" aria-hidden="true" class="header-anchor">#</a> product 返回一个 List 中所有元素的积</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">product</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token number">24</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">product</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token number">0</span>
</code></pre></div><h3 id="elem-判断元素是否包含于-list"><a href="#elem-判断元素是否包含于-list" aria-hidden="true" class="header-anchor">#</a> elem 判断元素是否包含于 List</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">4</span> `<span class="token builtin">elem</span>` <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">10</span> `<span class="token builtin">elem</span>` <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token constant">False</span>
</code></pre></div><h2 id="list-range"><a href="#list-range" aria-hidden="true" class="header-anchor">#</a> List range</h2> <p>Range 是构造 List 方法之一，而其中的值必须是可枚举的, 如 1、2、3、4， a、b、c、d</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">20</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token char">'a'</span><span class="token operator">..</span><span class="token char">'z'</span><span class="token punctuation">]</span>
<span class="token string">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token char">'K'</span><span class="token operator">..</span><span class="token char">'Z'</span><span class="token punctuation">]</span>
<span class="token string">&quot;KLMNOPQRSTUVWXYZ&quot;</span>
</code></pre></div><h3 id="跨度"><a href="#跨度" aria-hidden="true" class="header-anchor">#</a> 跨度</h3> <p>Range 允许你指定每一步的跨度</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">..</span><span class="token number">20</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token operator">..</span><span class="token number">20</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">]</span>
</code></pre></div><p>你就不能通过 [1,2,4..100]这样的语句来获得所有 2 的幂。因为步长只能标明一次，而且仅凭前几项，数组的后项是不能确定的。<br>
要得到 20 到 1 的 List，[20..1] 是不可以的。必须得 [20,19..1]。<br>
出于定义的原因，浮点数并不精确, 不建议在 Range 中使用浮点数</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.3</span> <span class="token operator">..</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">0.1</span><span class="token punctuation">,</span><span class="token number">0.3</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0.7</span><span class="token punctuation">,</span><span class="token number">0.8999999999999999</span><span class="token punctuation">,</span><span class="token number">1.0999999999999999</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="无限-list"><a href="#无限-list" aria-hidden="true" class="header-anchor">#</a> 无限 list</h3> <p>你也可以不标明 Range 的上限，从而得到一个无限长度的 List。<br>
如果要取前 10 个 13 的倍数,你可以 [13,26..10*13]，但有更好的方法： take 10 [13,26..]。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span><span class="token builtin">take</span> <span class="token number">10</span> <span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">26</span><span class="token operator">..</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">26</span><span class="token punctuation">,</span><span class="token number">39</span><span class="token punctuation">,</span><span class="token number">52</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">,</span><span class="token number">78</span><span class="token punctuation">,</span><span class="token number">91</span><span class="token punctuation">,</span><span class="token number">104</span><span class="token punctuation">,</span><span class="token number">117</span><span class="token punctuation">,</span><span class="token number">130</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="cycle-循环"><a href="#cycle-循环" aria-hidden="true" class="header-anchor">#</a> cycle 循环</h3> <p>cycle 接受一个 List 做参数并返回一个无限 List</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">take</span> <span class="token number">10</span> <span class="token punctuation">(</span><span class="token builtin">cycle</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">take</span> <span class="token number">12</span> <span class="token punctuation">(</span><span class="token builtin">cycle</span> <span class="token string">&quot;LOL &quot;</span><span class="token punctuation">)</span>
<span class="token string">&quot;LOL LOL LOL &quot;</span>
</code></pre></div><h3 id="repeat-重复"><a href="#repeat-重复" aria-hidden="true" class="header-anchor">#</a> repeat 重复</h3> <p>repeat 接受一个值作参数，并返回一个仅包含该值的无限 List,与用 cycle 处理单元素 List 差不多</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">take</span> <span class="token number">10</span> <span class="token punctuation">(</span><span class="token builtin">repeat</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
</code></pre></div><h2 id="list-comprehension-集合"><a href="#list-comprehension-集合" aria-hidden="true" class="header-anchor">#</a> list Comprehension(集合)</h2> <p>从既有的集合中按照规则产生一个新集合。比如前十个偶数的 set comprehension 可以表示为</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">x</span><span class="token operator">*</span><span class="token number">2</span> <span class="token operator">|</span> <span class="token hvariable">x</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="添加过滤"><a href="#添加过滤" aria-hidden="true" class="header-anchor">#</a> 添加过滤</h3> <p>竖线左端的部分是输出函数, 右边为过滤条件。 从一个 List 中筛选出符合特定限制条件的操作也可以称为过滤 (filtering)
若是取 50 到 100 间所有除 7 的余数为 3 的元素该怎么办？简单：</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span> <span class="token hvariable">x</span> <span class="token operator">|</span> <span class="token hvariable">x</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token hvariable">x</span> `<span class="token builtin">mod</span>` <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">52</span><span class="token punctuation">,</span><span class="token number">59</span><span class="token punctuation">,</span><span class="token number">66</span><span class="token punctuation">,</span><span class="token number">73</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">87</span><span class="token punctuation">,</span><span class="token number">94</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="改变输出"><a href="#改变输出" aria-hidden="true" class="header-anchor">#</a> 改变输出</h3> <p>所有大于 10 的奇数变为 &quot;BANG&quot;，小于 10 的奇数变为 &quot;BOOM&quot;，其他则统统扔掉。方便重用起见，我们将这个 comprehension 置于一个函数之中。使用 odd 函数判断是否为奇数：返回 True，就是奇数，该 List 中的元素才被包含。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">boomBangs</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token keyword">if</span> <span class="token hvariable">x</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token keyword">then</span> <span class="token string">&quot;BOOM!&quot;</span> <span class="token keyword">else</span> <span class="token string">&quot;BANG!&quot;</span> <span class="token operator">|</span> <span class="token hvariable">x</span> <span class="token operator">&lt;-</span> <span class="token hvariable">xs</span><span class="token punctuation">,</span> <span class="token builtin">odd</span> <span class="token hvariable">x</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">boomBangs</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token operator">..</span><span class="token number">13</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token string">&quot;BOOM!&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;BOOM!&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;BANG!&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;BANG!&quot;</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="多种限制条件"><a href="#多种限制条件" aria-hidden="true" class="header-anchor">#</a> 多种限制条件</h3> <p>可以加多个限制条件。若要达到 10 到 20 间所有不等于 13，15 或 19 的数，可以这样：</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span> <span class="token hvariable">x</span> <span class="token operator">|</span> <span class="token hvariable">x</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token operator">..</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token hvariable">x</span> <span class="token operator">/=</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token hvariable">x</span> <span class="token operator">/=</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token hvariable">x</span> <span class="token operator">/=</span> <span class="token number">19</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="多个-list-中取元素"><a href="#多个-list-中取元素" aria-hidden="true" class="header-anchor">#</a> 多个 List 中取元素</h3> <p>从多个 List 中取元素也是可以的。这样的话 comprehension 会把所有的元素组合交付给我们的输出函数。在不过滤的前提 下，取自两个长度为 4 的集合的 comprehension 会产生一个长度为 16 的 List。假设有两个 List，[2,5,10] 和 [8,10,11]， 要取它们所有组合的积，可以这样：</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span> <span class="token hvariable">x</span><span class="token operator">*</span><span class="token hvariable">y</span> <span class="token operator">|</span> <span class="token hvariable">x</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token hvariable">y</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">110</span><span class="token punctuation">]</span>
</code></pre></div><p>当然字符串也是可以的</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">nouns</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;hobo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;frog&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pope&quot;</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">adjectives</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;lazy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;grouchy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;scheming&quot;</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">adjective</span> <span class="token operator">++</span> <span class="token string">&quot; &quot;</span> <span class="token operator">++</span> <span class="token hvariable">noun</span> <span class="token operator">|</span> <span class="token hvariable">adjective</span> <span class="token operator">&lt;-</span> <span class="token hvariable">adjectives</span><span class="token punctuation">,</span> <span class="token hvariable">noun</span> <span class="token operator">&lt;-</span> <span class="token hvariable">nouns</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token string">&quot;lazy hobo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;lazy frog&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;lazy pope&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;grouchy hobo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;grouchy frog&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;grouchy pope&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;scheming hobo&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;scheming frog&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;scheming pope&quot;</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="发挥你的想象"><a href="#发挥你的想象" aria-hidden="true" class="header-anchor">#</a> 发挥你的想象</h3> <p>我们编写一个自己的 length 函数吧！就叫做 length'!</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token builtin">length</span>' <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token builtin">sum</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">|</span> <span class="token hvariable">_</span> <span class="token operator">&lt;-</span> <span class="token hvariable">xs</span><span class="token punctuation">]</span>
</code></pre></div><p><code>_</code> 表示我们并不关心从 List 中取什么值，与其弄个永远不用的变量，不如直接一个 _。这个函数将一个 List 中所有元素置换为 1，并且使其相加求和。得到的结果便是我们的 List 长度。</p> <p>字符串也是 List，完全可以使用 list comprehension 来处理字符串。如下是个除去字符串中所有非大写字母的函数：</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">removeNonUppercase</span> <span class="token hvariable">st</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token hvariable">c</span> <span class="token operator">|</span> <span class="token hvariable">c</span> <span class="token operator">&lt;-</span> <span class="token hvariable">st</span><span class="token punctuation">,</span> <span class="token hvariable">c</span> `<span class="token builtin">elem</span>` <span class="token punctuation">[</span><span class="token char">'A'</span><span class="token operator">..</span><span class="token char">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">removeNonUppercase</span> <span class="token string">&quot;Hahaha! Ahahaha!&quot;</span>
<span class="token string">&quot;HA&quot;</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">removeNonUppercase</span> <span class="token string">&quot;IdontLIKEFROGS&quot;</span>
<span class="token string">&quot;ILIKEFROGS&quot;</span>
</code></pre></div><h3 id="嵌套"><a href="#嵌套" aria-hidden="true" class="header-anchor">#</a> 嵌套</h3> <p>若操作含有 List 的 List，使用嵌套的 List comprehension 也是可以的。假设有个包含许多数值的 List 的 List，让我们在不拆开它的前提下除去其中的所有奇数：</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">xxs</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span> <span class="token hvariable">x</span> <span class="token operator">|</span> <span class="token hvariable">x</span> <span class="token operator">&lt;-</span> <span class="token hvariable">xs</span><span class="token punctuation">,</span> <span class="token builtin">even</span> <span class="token hvariable">x</span> <span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token hvariable">xs</span> <span class="token operator">&lt;-</span> <span class="token hvariable">xxs</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre></div><blockquote><p>将 List Comprehension 分成多行也是可以的。若非在 ghci 之下，还是将 List Comprehension 分成多行好，尤其是需要嵌套的时候。</p></blockquote> <h2 id="tuple-元祖"><a href="#tuple-元祖" aria-hidden="true" class="header-anchor">#</a> Tuple(元祖)</h2> <p>从某种意义上讲，Tuple (元组)很像 List --都是将多个值存入一个个体的容器。但它们却有着本质的不同，一组数字的 List 就是一组数字，它们的类型相同，且不关心其中包含元素的数量。而 Tuple 则要求你对需要组合的数据的数目非常的明确，它的类型取决于其中项的数目与其各自的类型。Tuple 中的项由括号括起，并由逗号隔开。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><p>例如[(1,2),(8,11,5),(4,5)] 三元组置于同一 List 中，而这是不允许的。同样 [(1,2),(&quot;one&quot;,2)] 这样的 List 也不行</p> <p>使用 Tuple 前应当事先明确一条数据中应该由多少个项。每个不同长度的 Tuple 都是独立的类型，所以你就不可以写个函数来给它追加元素。而唯一能做的，就是通过函数来给一个 List 追加序对，三元组或是四元组等内容。</p> <p>可以有单元素的 List，但 Tuple 不行。想想看，单元素的 Tuple 本身就只有一个值，对我们又有啥意义？不靠谱。</p> <h3 id="fst-返回序对的首项"><a href="#fst-返回序对的首项" aria-hidden="true" class="header-anchor">#</a> fst 返回序对的首项</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">fst</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span>
<span class="token number">8</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">fst</span> <span class="token punctuation">(</span><span class="token string">&quot;Wow&quot;</span><span class="token punctuation">,</span> <span class="token constant">False</span><span class="token punctuation">)</span>
<span class="token string">&quot;Wow&quot;</span>
</code></pre></div><h3 id="snd-返回序对的尾项"><a href="#snd-返回序对的尾项" aria-hidden="true" class="header-anchor">#</a> snd 返回序对的尾项</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">snd</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span>
<span class="token number">11</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">snd</span> <span class="token punctuation">(</span><span class="token string">&quot;Wow&quot;</span><span class="token punctuation">,</span> <span class="token constant">False</span><span class="token punctuation">)</span>
<span class="token constant">False</span>
</code></pre></div><blockquote><p>snd 和 fst 这两个函数仅对序对有效，而不能应用于三元组，四元组和五元组之上</p></blockquote> <h3 id="zip-生成序对-list"><a href="#zip-生成序对-list" aria-hidden="true" class="header-anchor">#</a> zip 生成序对 List</h3> <p>zip 可以用来生成一组序对 (Pair) 的 List。它取两个 List，然后将它们交叉配对，形成一组序对的 List。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">zip</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">zip</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">..</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;two&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;three&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;four&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;five&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;two&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;three&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&quot;four&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">&quot;five&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><p>如果两个 list 的长度不同, 较长的那个会在中间断开，去匹配较短的那个。由于 Haskell 是惰性的，使用 zip 同时处理有限和无限的 List 也是可以的：</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">zip</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">&quot;im&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;turtle&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">&quot;im&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;turtle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">zip</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">&quot;apple&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;orange&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cherry&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mango&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;apple&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;orange&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;cherry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&quot;mango&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="练习"><a href="#练习" aria-hidden="true" class="header-anchor">#</a> 练习</h3> <p>接下来考虑一个同时应用到 List 和 Tuple 的问题：如何取得所有三边长度皆为整数且小于等于 10，周长为 24 的直角三角形？首先，把所有三遍长度小于等于 10 的三角形都列出来：</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">triangles</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">(</span><span class="token hvariable">a</span><span class="token punctuation">,</span><span class="token hvariable">b</span><span class="token punctuation">,</span><span class="token hvariable">c</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token hvariable">c</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token hvariable">b</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token hvariable">a</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token punctuation">]</span>
</code></pre></div><p>接下来给它添加一个限制条件，令其必须为直角三角形。同时也考虑上 b 边要短于斜边，a 边要短于 b 边情况：
g</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">rightTriangles</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">(</span><span class="token hvariable">a</span><span class="token punctuation">,</span><span class="token hvariable">b</span><span class="token punctuation">,</span><span class="token hvariable">c</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token hvariable">c</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token hvariable">b</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token hvariable">c</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token hvariable">a</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token hvariable">b</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token hvariable">a</span><span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token hvariable">b</span><span class="token operator">^</span><span class="token number">2</span> <span class="token operator">==</span> <span class="token hvariable">c</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">]</span>
</code></pre></div><p>周长为 24 的三角形:</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">rightTriangles</span>' <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">(</span><span class="token hvariable">a</span><span class="token punctuation">,</span><span class="token hvariable">b</span><span class="token punctuation">,</span><span class="token hvariable">c</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token hvariable">c</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token hvariable">b</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token hvariable">c</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token hvariable">a</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token hvariable">b</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token hvariable">a</span><span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token hvariable">b</span><span class="token operator">^</span><span class="token number">2</span> <span class="token operator">==</span> <span class="token hvariable">c</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token hvariable">a</span><span class="token operator">+</span><span class="token hvariable">b</span><span class="token operator">+</span><span class="token hvariable">c</span> <span class="token operator">==</span> <span class="token number">24</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">rightTriangles</span>'
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><p>得到正确结果！这便是函数式编程语言的一般思路：先取一个初始的集合并将其变形，运行过滤条件，最终取得正确的结果。</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/haskell/" class="prev router-link-active">
          简介
        </a></span> <span class="next"><a href="/haskell/02.typeclass.html">
          类型签名
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.67e7f428.js" defer></script><script src="/assets/js/17.3640e356.js" defer></script>
  </body>
</html>
