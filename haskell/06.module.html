<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>模块 | Keep learning</title>
    <meta name="description" content="keep learning">
    
    
    <link rel="preload" href="/assets/css/0.styles.ef148202.css" as="style"><link rel="preload" href="/assets/js/app.67e7f428.js" as="script"><link rel="preload" href="/assets/js/22.7fe8571d.js" as="script"><link rel="prefetch" href="/assets/js/10.9e81d398.js"><link rel="prefetch" href="/assets/js/11.677d4ba6.js"><link rel="prefetch" href="/assets/js/12.51d6780b.js"><link rel="prefetch" href="/assets/js/13.a1724e18.js"><link rel="prefetch" href="/assets/js/14.28dd4294.js"><link rel="prefetch" href="/assets/js/15.f2a7689f.js"><link rel="prefetch" href="/assets/js/16.cd9f0474.js"><link rel="prefetch" href="/assets/js/17.3640e356.js"><link rel="prefetch" href="/assets/js/18.0e89fc94.js"><link rel="prefetch" href="/assets/js/19.660c385c.js"><link rel="prefetch" href="/assets/js/2.c18e3c75.js"><link rel="prefetch" href="/assets/js/20.a70e4495.js"><link rel="prefetch" href="/assets/js/21.b7b4380c.js"><link rel="prefetch" href="/assets/js/23.9c246f12.js"><link rel="prefetch" href="/assets/js/24.4ebab5c7.js"><link rel="prefetch" href="/assets/js/25.e0f6c8dc.js"><link rel="prefetch" href="/assets/js/26.667a1084.js"><link rel="prefetch" href="/assets/js/27.484b1e43.js"><link rel="prefetch" href="/assets/js/28.e08b6058.js"><link rel="prefetch" href="/assets/js/29.0901b7fb.js"><link rel="prefetch" href="/assets/js/3.1660a1d9.js"><link rel="prefetch" href="/assets/js/30.5c5cb9f5.js"><link rel="prefetch" href="/assets/js/31.381f1dec.js"><link rel="prefetch" href="/assets/js/32.8f68533f.js"><link rel="prefetch" href="/assets/js/33.74cd6521.js"><link rel="prefetch" href="/assets/js/34.9d137b36.js"><link rel="prefetch" href="/assets/js/35.50b3f97d.js"><link rel="prefetch" href="/assets/js/36.1ba216f1.js"><link rel="prefetch" href="/assets/js/37.39b36aaf.js"><link rel="prefetch" href="/assets/js/38.d86ece5f.js"><link rel="prefetch" href="/assets/js/39.ed51f794.js"><link rel="prefetch" href="/assets/js/4.46657140.js"><link rel="prefetch" href="/assets/js/40.d1f5f3e3.js"><link rel="prefetch" href="/assets/js/41.cfb412eb.js"><link rel="prefetch" href="/assets/js/42.4e699448.js"><link rel="prefetch" href="/assets/js/43.e22ec204.js"><link rel="prefetch" href="/assets/js/44.0421ffff.js"><link rel="prefetch" href="/assets/js/45.58b817ec.js"><link rel="prefetch" href="/assets/js/46.541083b5.js"><link rel="prefetch" href="/assets/js/5.12d27dc6.js"><link rel="prefetch" href="/assets/js/6.25c40935.js"><link rel="prefetch" href="/assets/js/7.0b9bcdd6.js"><link rel="prefetch" href="/assets/js/8.c8621244.js"><link rel="prefetch" href="/assets/js/9.5e4b7b3b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ef148202.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Keep learning</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/haskell/" class="sidebar-link">简介</a></li><li><a href="/haskell/01.types.html" class="sidebar-link">基础类型</a></li><li><a href="/haskell/02.typeclass.html" class="sidebar-link">类型签名</a></li><li><a href="/haskell/03.function.html" class="sidebar-link">函数语法</a></li><li><a href="/haskell/04.recursion.html" class="sidebar-link">递归</a></li><li><a href="/haskell/05.high-order.html" class="sidebar-link">高阶函数</a></li><li><a href="/haskell/06.module.html" class="active sidebar-link">模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haskell/06.module.html#加载模块" class="sidebar-link">加载模块</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#data-list" class="sidebar-link">Data.List</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haskell/06.module.html#intersperse" class="sidebar-link">intersperse</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#transpose" class="sidebar-link">transpose</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#foldl-foldl1" class="sidebar-link">foldl' foldl1'</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#concat" class="sidebar-link">concat</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#concatmap" class="sidebar-link">concatMap</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#and" class="sidebar-link">and</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#or" class="sidebar-link">or</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#any-all" class="sidebar-link">any all</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#iterate" class="sidebar-link">iterate</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#splitat" class="sidebar-link">splitAt</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#takewhile" class="sidebar-link">takeWhile</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#dropwhile" class="sidebar-link">dropWhile</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#span-break" class="sidebar-link">span break</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#group" class="sidebar-link">group</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#inits-tails" class="sidebar-link">inits tails</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#isinfixof" class="sidebar-link">isInfixOf</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#isprefixof-与-issuffixof" class="sidebar-link">isPrefixOf 与 isSuffixOf</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#elem-与-notelem" class="sidebar-link">elem 与 notElem</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#partition" class="sidebar-link">partition</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#find" class="sidebar-link">find</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#elemindex" class="sidebar-link">elemIndex</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#elemindices" class="sidebar-link">elemIndices</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#findindex" class="sidebar-link">findIndex</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#findindices" class="sidebar-link">findIndices</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#zip3-7-zipwith3-7" class="sidebar-link">zip3-7 zipWith3-7</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#lines-unlines" class="sidebar-link">lines unlines</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#words-和-unwords" class="sidebar-link">words 和 unwords</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#nub" class="sidebar-link">nub</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#delete" class="sidebar-link">delete</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#函数" class="sidebar-link">函数 \\</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#union" class="sidebar-link">union</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#intersection" class="sidebar-link">intersection</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#insert" class="sidebar-link">insert</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#更多" class="sidebar-link">更多</a></li></ul></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#data-char" class="sidebar-link">Data.Char</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haskell/06.module.html#isspace" class="sidebar-link">isSpace</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#generalcategory" class="sidebar-link">GeneralCategory</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#toupper-digittoint-totitle" class="sidebar-link">toUpper digitToInt toTitle</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#ord-char" class="sidebar-link">ord char</a></li></ul></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#data-map" class="sidebar-link">Data.Map</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/haskell/06.module.html#findkey" class="sidebar-link">findKey</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#fromlist" class="sidebar-link">fromList</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#map-empty" class="sidebar-link">Map.empty</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#map-insert" class="sidebar-link">Map.insert</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#size" class="sidebar-link">size</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#singleton" class="sidebar-link">singleton</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#map-lookup" class="sidebar-link">Map.lookup</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#member" class="sidebar-link">member</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#map-与-filter" class="sidebar-link">map 与 filter</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#tolist" class="sidebar-link">toList</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#keys-与-elems" class="sidebar-link">keys 与 elems</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#map更多信息" class="sidebar-link">map更多信息</a></li></ul></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#data-set" class="sidebar-link">Data.Set</a></li><li class="sidebar-sub-header"><a href="/haskell/06.module.html#建立自己的模块" class="sidebar-link">建立自己的模块</a></li></ul></li><li><a href="/haskell/07.build-typeclass.html" class="sidebar-link">构建 类型 类型类</a></li><li><a href="/haskell/08.input-output.html" class="sidebar-link">输入输出</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="模块"><a href="#模块" aria-hidden="true" class="header-anchor">#</a> 模块</h1> <h2 id="加载模块"><a href="#加载模块" aria-hidden="true" class="header-anchor">#</a> 加载模块</h2> <p>haskell 中使用 <code>import</code> 来加载模块，一般定义在代码顶部。</p> <blockquote><p>Prelude 是haskell标准库的一组模块，它缺省自动加载</p></blockquote> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token import_statement"><span class="token keyword">import</span> Data.List</span>  

<span class="token hvariable">numUniques</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Int</span>  
<span class="token hvariable">numUniques</span> <span class="token operator">=</span> <span class="token builtin">length</span><span class="token operator"> . </span><span class="token hvariable">nub</span>
</code></pre></div><p>也可以在ghci中使用 :m 加载模块</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token operator">:</span><span class="token hvariable">m</span> <span class="token constant">Data.List</span> <span class="token constant">Data.Map</span> <span class="token constant">Data.Set</span>
</code></pre></div><p>部分引入</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token import_statement"><span class="token keyword">import</span> Data.List</span> <span class="token punctuation">(</span><span class="token hvariable">nub</span><span class="token punctuation">,</span> <span class="token builtin">sort</span><span class="token punctuation">)</span>
</code></pre></div><p>除去部分函数引入其它部分</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token import_statement"><span class="token keyword">import</span> Data.List <span class="token keyword">hiding</span></span> <span class="token punctuation">(</span><span class="token hvariable">nub</span><span class="token punctuation">)</span>
</code></pre></div><p>为避免命名冲突，可以有限制的引入, 同时为了使用简单可以加上别名</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token import_statement"><span class="token keyword">import</span> <span class="token keyword">qualified</span> Data.Map</span>
<span class="token comment">-- 使用 Data.map.filter</span>

<span class="token import_statement"><span class="token keyword">import</span> <span class="token keyword">qualified</span> Data.Map <span class="token keyword">as</span> M</span>
<span class="token comment">-- 使用 M.filter</span>
</code></pre></div><h2 id="data-list"><a href="#data-list" aria-hidden="true" class="header-anchor">#</a> Data.List</h2> <p>该主要是用来操作 list 的， 如之前使用过的map 和 filter 都是该模块下的函数。</p> <h3 id="intersperse"><a href="#intersperse" aria-hidden="true" class="header-anchor">#</a> intersperse</h3> <p>将前一个元素插入后面每一对元素中间</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">intersperse</span> <span class="token char">'.'</span> <span class="token string">&quot;abcdef&quot;</span>
<span class="token comment">-- =&gt; &quot;a.b.c.d.e.f&quot;</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">intersperse</span> <span class="token number">0</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>  
<span class="token comment">-- =&gt; [1,0,2,0,3,0,4,0,5,0,6]</span>
</code></pre></div><h3 id="transpose"><a href="#transpose" aria-hidden="true" class="header-anchor">#</a> transpose</h3> <p>可以将嵌套的list行变为列</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">transpose</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">-- =&gt; [[1,4,7],[2,5,8],[3,6,9]]  </span>

<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">transpose</span> <span class="token punctuation">[</span><span class="token string">&quot;hey&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;there&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;guys&quot;</span><span class="token punctuation">]</span>
<span class="token comment">-- =&gt; [&quot;htg&quot;,&quot;ehu&quot;,&quot;yey&quot;,&quot;rs&quot;,&quot;e&quot;]</span>

<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token builtin">sum</span> <span class="token operator">$</span> <span class="token hvariable">transpose</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">-- =&gt; [18,8,6,17]</span>
</code></pre></div><h3 id="foldl-foldl1"><a href="#foldl-foldl1" aria-hidden="true" class="header-anchor">#</a> foldl' foldl1'</h3> <p>fold在处理较大list时会出现堆栈溢出，此时可以使用 fold 的严格版本 foldl' 和 foldl1'</p> <h3 id="concat"><a href="#concat" aria-hidden="true" class="header-anchor">#</a> concat</h3> <p>将嵌套的 list 铺平为一个list, 可以通过多次调用来铺平多层嵌套</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">concat</span> <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;car&quot;</span><span class="token punctuation">]</span>  
<span class="token comment">-- =&gt; &quot;foobarcar&quot;</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">concat</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
<span class="token comment">-- =&gt; [3,4,5,2,3,4,2,1,1]</span>
</code></pre></div><h3 id="concatmap"><a href="#concatmap" aria-hidden="true" class="header-anchor">#</a> concatMap</h3> <p>与 map 一个 List 之后再 concat 它等价</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">concatMap</span> <span class="token punctuation">(</span><span class="token builtin">replicate</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">3</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="and"><a href="#and" aria-hidden="true" class="header-anchor">#</a> and</h3> <p>仅当list中的值都为True时，返回True</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">and</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>  
<span class="token comment">-- =&gt; True  </span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">and</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  
<span class="token comment">-- =&gt; False</span>
</code></pre></div><h3 id="or"><a href="#or" aria-hidden="true" class="header-anchor">#</a> or</h3> <p>如果list中包含True，就会返回True</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">or</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token comment">-- =&gt; True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">or</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>  
<span class="token comment">-- =&gt; False</span>
</code></pre></div><h3 id="any-all"><a href="#any-all" aria-hidden="true" class="header-anchor">#</a> any all</h3> <p>any list中有值都满足条件，就返回True<br>
all list中所有值都满足条件时返回True</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">any</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  
<span class="token constant">True</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">all</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>  
<span class="token constant">True</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">all</span> <span class="token punctuation">(</span>`<span class="token builtin">elem</span>` <span class="token punctuation">[</span><span class="token char">'A'</span><span class="token operator">..</span><span class="token char">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token string">&quot;HEYGUYSwhatsup&quot;</span>  
<span class="token constant">False</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">any</span> <span class="token punctuation">(</span>`<span class="token builtin">elem</span>` <span class="token punctuation">[</span><span class="token char">'A'</span><span class="token operator">..</span><span class="token char">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token string">&quot;HEYGUYSwhatsup&quot;</span>  
<span class="token constant">True</span>
</code></pre></div><h3 id="iterate"><a href="#iterate" aria-hidden="true" class="header-anchor">#</a> iterate</h3> <p>取一个函数和一个值作参数。它会用该值去调用该函数并用所得的结果再次调用该函数，产生一个无限的 List.</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">take</span> <span class="token number">10</span> <span class="token operator">$</span> <span class="token builtin">iterate</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token number">1</span>  
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">64</span><span class="token punctuation">,</span><span class="token number">128</span><span class="token punctuation">,</span><span class="token number">256</span><span class="token punctuation">,</span><span class="token number">512</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">take</span> <span class="token number">3</span> <span class="token operator">$</span> <span class="token builtin">iterate</span> <span class="token punctuation">(</span><span class="token operator">++</span> <span class="token string">&quot;haha&quot;</span><span class="token punctuation">)</span> <span class="token string">&quot;haha&quot;</span>  
<span class="token punctuation">[</span><span class="token string">&quot;haha&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hahahaha&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hahahahahaha&quot;</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="splitat"><a href="#splitat" aria-hidden="true" class="header-anchor">#</a> splitAt</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">splitAt</span> <span class="token number">3</span> <span class="token string">&quot;heyman&quot;</span>  
<span class="token punctuation">(</span><span class="token string">&quot;hey&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;man&quot;</span><span class="token punctuation">)</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">splitAt</span> <span class="token number">100</span> <span class="token string">&quot;heyman&quot;</span>  
<span class="token punctuation">(</span><span class="token string">&quot;heyman&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">splitAt</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;heyman&quot;</span>  
<span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;heyman&quot;</span><span class="token punctuation">)</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token punctuation">(</span><span class="token hvariable">a</span><span class="token punctuation">,</span><span class="token hvariable">b</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token builtin">splitAt</span> <span class="token number">3</span> <span class="token string">&quot;foobar&quot;</span> <span class="token keyword">in</span> <span class="token hvariable">b</span> <span class="token operator">++</span> <span class="token hvariable">a</span>  
<span class="token string">&quot;barfoo&quot;</span>
</code></pre></div><h3 id="takewhile"><a href="#takewhile" aria-hidden="true" class="header-anchor">#</a> takeWhile</h3> <p>从一个 List 中取元素，一旦遇到不符合条件的某元素就停止.</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">takeWhile</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">takeWhile</span> <span class="token punctuation">(</span><span class="token operator">/=</span><span class="token char">' '</span><span class="token punctuation">)</span> <span class="token string">&quot;This is a sentence&quot;</span>  
<span class="token string">&quot;This&quot;</span>

<span class="token comment">-- 求所有三次方小于 1000 的数的和</span>
<span class="token comment">-- 无限 List 执行的 filter 永远都不会停止, 所有可以使用takeWhile</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">sum</span> <span class="token operator">$</span> <span class="token builtin">takeWhile</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token number">10000</span><span class="token punctuation">)</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token punctuation">]</span>  
<span class="token number">53361</span>
</code></pre></div><h3 id="dropwhile"><a href="#dropwhile" aria-hidden="true" class="header-anchor">#</a> dropWhile</h3> <p>如果list中的元素不满足条件，它就返回 List 的余下部分</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">dropWhile</span> <span class="token punctuation">(</span><span class="token operator">/=</span><span class="token char">' '</span><span class="token punctuation">)</span> <span class="token string">&quot;This is a sentence&quot;</span>  
<span class="token string">&quot; is a sentence&quot;</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">dropWhile</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>

<span class="token comment">-- Tuple 的首项表示股票价格，第二三四项分别表示年,月,日。我们想知道它是在哪天首次突破 $1000 的</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">stock</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">994.4</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">995.2</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">999.2</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1001.4</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">998.3</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">head</span> <span class="token punctuation">(</span><span class="token builtin">dropWhile</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token punctuation">(</span><span class="token hvariable">val</span><span class="token punctuation">,</span><span class="token hvariable">y</span><span class="token punctuation">,</span><span class="token hvariable">m</span><span class="token punctuation">,</span><span class="token hvariable">d</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token hvariable">val</span> <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token hvariable">stock</span><span class="token punctuation">)</span>  
<span class="token punctuation">(</span><span class="token number">1001.4</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="span-break"><a href="#span-break" aria-hidden="true" class="header-anchor">#</a> span break</h3> <p>与 takeWhile dropWhile 类似,只是它返回两个 List<br>
span 是在条件首次为 False 时断开 List，而 break 则是在条件首次为 True 时断开 List</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">break</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>  
<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">span</span> <span class="token punctuation">(</span><span class="token operator">/=</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>  
<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="group"><a href="#group" aria-hidden="true" class="header-anchor">#</a> group</h3> <p>取一个 List 作参数，并将其中相邻并相等的元素各自归类，组成一个个子 List.</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">group</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

<span class="token comment">-- 将一个list中 相邻且相等的元素分组为多个子数组。</span>

<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">l</span><span class="token operator">@</span><span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token punctuation">,</span><span class="token builtin">length</span> <span class="token hvariable">l</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator"> . </span><span class="token builtin">group</span><span class="token operator"> . </span><span class="token builtin">sort</span> <span class="token operator">$</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="inits-tails"><a href="#inits-tails" aria-hidden="true" class="header-anchor">#</a> inits tails</h3> <p>与 init 和 tail 类似，只是他们会不断递归自己到什么都不剩。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">inits</span> <span class="token string">&quot;w00t&quot;</span>  
<span class="token punctuation">[</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w0&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w00&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w00t&quot;</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">tails</span> <span class="token string">&quot;w00t&quot;</span>  
<span class="token punctuation">[</span><span class="token string">&quot;w00t&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;00t&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0t&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;t&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">w</span> <span class="token operator">=</span> <span class="token string">&quot;w00t&quot;</span> <span class="token keyword">in</span> <span class="token builtin">zip</span> <span class="token punctuation">(</span><span class="token hvariable">inits</span> <span class="token hvariable">w</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token hvariable">tails</span> <span class="token hvariable">w</span><span class="token punctuation">)</span>  
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w00t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;00t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;w0&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;w00&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;w00t&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="isinfixof"><a href="#isinfixof" aria-hidden="true" class="header-anchor">#</a> isInfixOf</h3> <p>类似 <code>elem</code> 只是第一个元素为 list</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">&quot;cat&quot;</span> <span class="token operator">`isInfixOf`</span> <span class="token string">&quot;im a cat burglar&quot;</span>  
<span class="token constant">True</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">&quot;Cat&quot;</span> <span class="token operator">`isInfixOf`</span> <span class="token string">&quot;im a cat burglar&quot;</span>  
<span class="token constant">False</span>
</code></pre></div><h3 id="isprefixof-与-issuffixof"><a href="#isprefixof-与-issuffixof" aria-hidden="true" class="header-anchor">#</a> isPrefixOf 与 isSuffixOf</h3> <p>一个list 是否以另一个子list开头或结尾</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">&quot;hey&quot;</span> <span class="token operator">`isPrefixOf`</span> <span class="token string">&quot;oh hey there!&quot;</span>  
<span class="token constant">False</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">&quot;there!&quot;</span> <span class="token operator">`isSuffixOf`</span> <span class="token string">&quot;oh hey there!&quot;</span>  
<span class="token constant">True</span>  
</code></pre></div><h3 id="elem-与-notelem"><a href="#elem-与-notelem" aria-hidden="true" class="header-anchor">#</a> elem 与 notElem</h3> <p>检查一个 List 是否包含或不包含某元素.</p> <h3 id="partition"><a href="#partition" aria-hidden="true" class="header-anchor">#</a> partition</h3> <p>根据限制条件返回两个list,一个满足条件,一个不满足条件</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">partition</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>  
<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">span</span> <span class="token punctuation">(</span>`<span class="token builtin">elem</span>` <span class="token punctuation">[</span><span class="token char">'A'</span><span class="token operator">..</span><span class="token char">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token string">&quot;BOBsidneyMORGANeddy&quot;</span>  
<span class="token punctuation">(</span><span class="token string">&quot;BOB&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;sidneyMORGANeddy&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="find"><a href="#find" aria-hidden="true" class="header-anchor">#</a> find</h3> <p>根据限制条件返回第一个满足条件的元素，这个元素是一个Maybe值，
Maybe 值可能是 Just something 或 Nothing</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">find</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>  
<span class="token constant">Just</span> <span class="token number">5</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">find</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>  
<span class="token constant">Nothing</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token operator">:</span><span class="token hvariable">t</span> <span class="token hvariable">find</span>  
<span class="token hvariable">find</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token constant">Bool</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Maybe</span> <span class="token hvariable">a</span>
</code></pre></div><h3 id="elemindex"><a href="#elemindex" aria-hidden="true" class="header-anchor">#</a> elemIndex</h3> <p>类似find 和 elem 的合体， 只是返回和元素相等的第一个元素的index, 如果不存在返回Nothing</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token operator">:</span><span class="token hvariable">t</span> <span class="token hvariable">elemIndex</span>  
<span class="token hvariable">elemIndex</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Maybe</span> <span class="token constant">Int</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">4</span> <span class="token operator">`elemIndex`</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>  
<span class="token constant">Just</span> <span class="token number">3</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token operator">`elemIndex`</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>  
<span class="token constant">Nothing</span>
</code></pre></div><h3 id="elemindices"><a href="#elemindices" aria-hidden="true" class="header-anchor">#</a> elemIndices</h3> <p>返回与元素相等的所有元素的index组成的list</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token char">' '</span> <span class="token operator">`elemIndices`</span> <span class="token string">&quot;Where are the spaces?&quot;</span>  
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="findindex"><a href="#findindex" aria-hidden="true" class="header-anchor">#</a> findIndex</h3> <p>与find类似，根据条件返回第一个符合的元素的index</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">findIndex</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  
<span class="token constant">Just</span> <span class="token number">5</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">findIndex</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  
<span class="token constant">Nothing</span>  
</code></pre></div><h3 id="findindices"><a href="#findindices" aria-hidden="true" class="header-anchor">#</a> findIndices</h3> <p>返回所有符合条件的元素的index组成的list</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">findIndices</span> <span class="token punctuation">(</span>`<span class="token builtin">elem</span>` <span class="token punctuation">[</span><span class="token char">'A'</span><span class="token operator">..</span><span class="token char">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token string">&quot;Where Are The Caps?&quot;</span>  
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="zip3-7-zipwith3-7"><a href="#zip3-7-zipwith3-7" aria-hidden="true" class="header-anchor">#</a> zip3-7 zipWith3-7</h3> <p>与zip 和zipWith 类似，它们可以加3个到7个list合并到一个二元数组或二元函数中。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">zipWith3</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">x</span> <span class="token hvariable">y</span> <span class="token hvariable">z</span> <span class="token operator">-&gt;</span> <span class="token hvariable">x</span> <span class="token operator">+</span> <span class="token hvariable">y</span> <span class="token operator">+</span> <span class="token hvariable">z</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">zip4</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="lines-unlines"><a href="#lines-unlines" aria-hidden="true" class="header-anchor">#</a> lines unlines</h3> <p>lines 放回由换行符拆成的字符串的list<br>
unlines 返回和lines相反返回由list通过换行符拼接成的字符串</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">lines</span> <span class="token string">&quot;first line\nsecond line\nthird line&quot;</span>  
<span class="token punctuation">[</span><span class="token string">&quot;first line&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;second line&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;third line&quot;</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="words-和-unwords"><a href="#words-和-unwords" aria-hidden="true" class="header-anchor">#</a> words 和 unwords</h3> <p>把一个字串分为一组单词或执行相反的操作</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">words</span> <span class="token string">&quot;hey these are the words in this sentence&quot;</span>
<span class="token punctuation">[</span><span class="token string">&quot;hey&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;these&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;are&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;the&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;words&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;in&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;this&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;sentence&quot;</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">words</span> <span class="token string">&quot;hey these are the words in this\nsentence&quot;</span>  
<span class="token punctuation">[</span><span class="token string">&quot;hey&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;these&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;are&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;the&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;words&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;in&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;this&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;sentence&quot;</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">unwords</span> <span class="token punctuation">[</span><span class="token string">&quot;hey&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;there&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;mate&quot;</span><span class="token punctuation">]</span>  
<span class="token string">&quot;hey there mate&quot;</span>
</code></pre></div><h3 id="nub"><a href="#nub" aria-hidden="true" class="header-anchor">#</a> nub</h3> <p>将一个 List 中的重复元素去掉</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">nub</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">nub</span> <span class="token string">&quot;Lots of words and stuff&quot;</span>  
<span class="token string">&quot;Lots fwrdanu&quot;</span>
</code></pre></div><h3 id="delete"><a href="#delete" aria-hidden="true" class="header-anchor">#</a> delete</h3> <p>删除list中首次出现的该元素。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">delete</span> <span class="token char">'h'</span> <span class="token string">&quot;hey there ghang!&quot;</span>  
<span class="token string">&quot;ey there ghang!&quot;</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">delete</span> <span class="token char">'h'</span><span class="token operator"> . </span><span class="token hvariable">delete</span> <span class="token char">'h'</span> <span class="token operator">$</span> <span class="token string">&quot;hey there ghang!&quot;</span>  
<span class="token string">&quot;ey tere ghang!&quot;</span>
</code></pre></div><h3 id="函数"><a href="#函数" aria-hidden="true" class="header-anchor">#</a> 函数 \</h3> <p>类似集合的差积，返回不包含后面list中元素的list</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">\\</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">&quot;Im a big baby&quot;</span> <span class="token operator">\\</span> <span class="token string">&quot;big&quot;</span>  
<span class="token string">&quot;Im a  baby&quot;</span>
</code></pre></div><h3 id="union"><a href="#union" aria-hidden="true" class="header-anchor">#</a> union</h3> <p>类似集合的并集，返回的list中都会包含后面的list</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">&quot;hey man&quot;</span> <span class="token operator">`union`</span> <span class="token string">&quot;man what's up&quot;</span>  
<span class="token string">&quot;hey manwt'sup&quot;</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">`union`</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="intersection"><a href="#intersection" aria-hidden="true" class="header-anchor">#</a> intersection</h3> <p>交集，返回两个list的交集</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">`intersect`</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="insert"><a href="#insert" aria-hidden="true" class="header-anchor">#</a> insert</h3> <p>insert 可以将一个元素插入一个可排序的 List，并将其置于首个大于等于它的元素之前,如果元素已经排序，返回接口也将是排序的</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">insert</span> <span class="token number">4</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">insert</span> <span class="token char">'g'</span> <span class="token operator">$</span> <span class="token punctuation">[</span><span class="token char">'a'</span><span class="token operator">..</span><span class="token char">'f'</span><span class="token punctuation">]</span> <span class="token operator">++</span> <span class="token punctuation">[</span><span class="token char">'h'</span><span class="token operator">..</span><span class="token char">'z'</span><span class="token punctuation">]</span>  
<span class="token string">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">insert</span> <span class="token number">3</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="更多"><a href="#更多" aria-hidden="true" class="header-anchor">#</a> 更多</h3> <p>length，take，drop，splitAt，!! 和 replicate 之类的函数有个共同点。那就是它们的参数中都有个 Int 值（或者返回Int值），我觉得使用 Intergal 或 Num 型别类会更好，但出于历史原因，修改这些会破坏掉许多既有的代码。在 Data.List 中包含了更通用的替代版，如: genericLength，genericTake，genericDrop，genericSplitAt，genericIndex 和 genericReplicate。</p> <p>length 的型别声明为 length :: [a] -&gt; Int，而我们若要像这样求它的平均值，let xs = [1..6] in sum xs / length xs ，就会得到一个型别错误，因为 / 运算符不能对 Int 型使用! 而 genericLength 的型别声明则为 genericLength :: (Num a) =&gt; [b] -&gt; a，Num 既可以是整数又可以是浮点数，let xs = [1..6] in sum xs / genericLength xs 这样再求平均数就不会有问题</p> <p>nub, delete, union, intsect 和 group 函数也有各自的通用替代版 nubBy，deleteBy，unionBy，intersectBy 和 groupBy，它们的区别就是前一组函数使用 (==) 来测试是否相等，而带 By 的那组则取一个函数作参数来判定相等性，group 就与 groupBy (==) 等价.</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">values</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4.3</span>，<span class="token operator">-</span><span class="token number">2.4</span>，<span class="token operator">-</span><span class="token number">1.2</span>，<span class="token number">0.4</span>，<span class="token number">2.3</span>，<span class="token number">5.9</span>，<span class="token number">10.5</span>，<span class="token number">29.1</span>，<span class="token number">5.3</span>，<span class="token operator">-</span><span class="token number">2.4</span>，<span class="token operator">-</span><span class="token number">14.5</span>，<span class="token number">2.9</span>，<span class="token number">2.3</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">groupBy</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">x</span> <span class="token hvariable">y</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token hvariable">x</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span><span class="token hvariable">y</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token hvariable">values</span>  
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4.3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2.4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1.2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0.4</span><span class="token punctuation">,</span><span class="token number">2.3</span><span class="token punctuation">,</span><span class="token number">5.9</span><span class="token punctuation">,</span><span class="token number">10.5</span><span class="token punctuation">,</span><span class="token number">29.1</span><span class="token punctuation">,</span><span class="token number">5.3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2.4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">14.5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2.9</span><span class="token punctuation">,</span><span class="token number">2.3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

<span class="token comment">-- 使用Data.Function 的on可以进一步简化</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">groupBy</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">==</span><span class="token punctuation">)</span> <span class="token operator">`on`</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token hvariable">values</span>  
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4.3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2.4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1.2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0.4</span><span class="token punctuation">,</span><span class="token number">2.3</span><span class="token punctuation">,</span><span class="token number">5.9</span><span class="token punctuation">,</span><span class="token number">10.5</span><span class="token punctuation">,</span><span class="token number">29.1</span><span class="token punctuation">,</span><span class="token number">5.3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2.4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">14.5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2.9</span><span class="token punctuation">,</span><span class="token number">2.3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre></div><p>sort，insert，maximum 和 min 都有各自的通用版本。如 groupBy 类似，sortBy，insertBy，maximumBy 和 minimumBy 都取一个函数来比较两个元素的大小。像 sortBy 的型别声明为: sortBy :: (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]。前面提过，Ordering 型别可以有三个值,LT，EQ 和 GT。compare 取两个 Ord 型别类的元素作参数，所以 sort 与 sortBy compare 等价.</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token comment">-- 可以根据list的长度来比较list的大小</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">sortBy</span> <span class="token punctuation">(</span><span class="token builtin">compare</span> <span class="token operator">`on`</span> <span class="token builtin">length</span><span class="token punctuation">)</span> <span class="token hvariable">xs</span>  
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre></div><h2 id="data-char"><a href="#data-char" aria-hidden="true" class="header-anchor">#</a> Data.Char</h2> <p>isControl 判断一个字符是否是控制字符。 isSpace 判断一个字符是否是空格字符，包括空格，tab，换行符等. isLower 判断一个字符是否为小写. isUper 判断一个字符是否为大写。 isAlpha 判断一个字符是否为字母. isAlphaNum 判断一个字符是否为字母或数字. isPrint 判断一个字符是否是可打印的. isDigit 判断一个字符是否为数字. isOctDigit 判断一个字符是否为八进制数字. isHexDigit 判断一个字符是否为十六进制数字. isLetter 判断一个字符是否为字母. isMark 判断是否为 unicode 注音字符，你如果是法国人就会经常用到的. isNumber 判断一个字符是否为数字. isPunctuation 判断一个字符是否为标点符号. isSymbol判断一个字符是否为货币符号. isSeperater 判断一个字符是否为 unicode 空格或分隔符. isAscii 判断一个字符是否在 unicode 字母表的前 128 位。 isLatin1 判断一个字符是否在 unicode 字母表的前 256 位. isAsciiUpper 判断一个字符是否为大写的 ascii 字符. isAsciiLower 判断一个字符是否为小写的 ascii 字符.</p> <p>以上所有判断函数的型别声明皆为 Char -&gt; Bool，用到它们的绝大多数情况都无非就是过滤字串或类似操作</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">all</span> <span class="token builtin">isAlphaNum</span> <span class="token string">&quot;bobby283&quot;</span>  
<span class="token constant">True</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">all</span> <span class="token builtin">isAlphaNum</span> <span class="token string">&quot;eddy the fish!&quot;</span>  
<span class="token constant">False</span>
</code></pre></div><h3 id="isspace"><a href="#isspace" aria-hidden="true" class="header-anchor">#</a> isSpace</h3> <p>使用 isSpace 来实现 Data.List 的 words 函数</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">words</span> <span class="token string">&quot;hey guys its me&quot;</span>  
<span class="token punctuation">[</span><span class="token string">&quot;hey&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;guys&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;its&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;me&quot;</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">groupBy</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">==</span><span class="token punctuation">)</span> <span class="token operator">`on`</span> <span class="token builtin">isSpace</span><span class="token punctuation">)</span> <span class="token string">&quot;hey guys its me&quot;</span>  
<span class="token punctuation">[</span><span class="token string">&quot;hey&quot;</span><span class="token punctuation">,</span><span class="token string">&quot; &quot;</span><span class="token punctuation">,</span><span class="token string">&quot;guys&quot;</span><span class="token punctuation">,</span><span class="token string">&quot; &quot;</span><span class="token punctuation">,</span><span class="token string">&quot;its&quot;</span><span class="token punctuation">,</span><span class="token string">&quot; &quot;</span><span class="token punctuation">,</span><span class="token string">&quot;me&quot;</span><span class="token punctuation">]</span>  
</code></pre></div><h3 id="generalcategory"><a href="#generalcategory" aria-hidden="true" class="header-anchor">#</a> GeneralCategory</h3> <p>Data.Char 中也有和Ordering 类似的枚举类型, GeneralCategory 包含31种 它可用 generalCategory :: Char -&gt; GeneralCategory 获取得到</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">generalCategory</span> <span class="token char">' '</span>  
<span class="token constant">Space</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">generalCategory</span> <span class="token char">'A'</span>  
<span class="token constant">UppercaseLetter</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">generalCategory</span> <span class="token char">'a'</span>  
<span class="token constant">LowercaseLetter</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">generalCategory</span> <span class="token char">'.'</span>  
<span class="token constant">OtherPunctuation</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">generalCategory</span> <span class="token char">'9'</span>  
<span class="token constant">DecimalNumber</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token hvariable">generalCategory</span> <span class="token string">&quot; \t\nA9?|&quot;</span>  
<span class="token punctuation">[</span><span class="token constant">Space</span><span class="token punctuation">,</span><span class="token constant">Control</span><span class="token punctuation">,</span><span class="token constant">Control</span><span class="token punctuation">,</span><span class="token constant">UppercaseLetter</span><span class="token punctuation">,</span><span class="token constant">DecimalNumber</span><span class="token punctuation">,</span><span class="token constant">OtherPunctuation</span><span class="token punctuation">,</span><span class="token constant">MathSymbol</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="toupper-digittoint-totitle"><a href="#toupper-digittoint-totitle" aria-hidden="true" class="header-anchor">#</a> toUpper digitToInt toTitle</h3> <p>toUpper 将一个字符转为大写字母，若该字符不是小写字母，就按原值返回. toLower 将一个字符转为小写字母，若该字符不是大写字母，就按原值返回. toTitle 将一个字符转为 title-case，对大多数字元而言，title-case 就是大写. digitToInt 将一个字符转为 Int 值，而这一字符必须得在 '1'..'9','a'..'f'或'A'..'F' 的范围之内.<br>
intToDigit 是 digitToInt 的反函数。它取一个 0 到 15 的 Int 值作参数，并返回一个小写的字符.</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token builtin">digitToInt</span> <span class="token string">&quot;34538&quot;</span>  
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token builtin">digitToInt</span> <span class="token string">&quot;FF85AB&quot;</span>  
<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span>

<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">intToDigit</span> <span class="token number">15</span>  
<span class="token char">'f'</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">intToDigit</span> <span class="token number">5</span>  
<span class="token char">'5'</span>
</code></pre></div><h3 id="ord-char"><a href="#ord-char" aria-hidden="true" class="header-anchor">#</a> ord char</h3> <p>ord 与 char 函数可以将字符与其对应的数字相互转换.</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">ord</span> <span class="token char">'a'</span>  
<span class="token number">97</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">chr</span> <span class="token number">97</span>  
<span class="token char">'a'</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token builtin">ord</span> <span class="token string">&quot;abcdefgh&quot;</span>  
<span class="token punctuation">[</span><span class="token number">97</span><span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">102</span><span class="token punctuation">,</span><span class="token number">103</span><span class="token punctuation">,</span><span class="token number">104</span><span class="token punctuation">]</span>
</code></pre></div><p>Caesar ciphar 是加密的基础算法，它将消息中的每个字符都按照特定的字母表进行替换。它的实现非常简单，我们这里就先不管字母表了.</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">encode</span> <span class="token operator">::</span> <span class="token constant">Int</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>  
<span class="token hvariable">encode</span> <span class="token hvariable">shift</span> <span class="token hvariable">msg</span> <span class="token operator">=</span> 
  <span class="token keyword">let</span> <span class="token hvariable">ords</span> <span class="token operator">=</span> <span class="token builtin">map</span> <span class="token builtin">ord</span> <span class="token hvariable">msg</span>  
      <span class="token hvariable">shifted</span> <span class="token operator">=</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">+</span> <span class="token hvariable">shift</span><span class="token punctuation">)</span> <span class="token hvariable">ords</span>  
  <span class="token keyword">in</span> <span class="token builtin">map</span> <span class="token builtin">chr</span> <span class="token hvariable">shifted</span>

<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">encode</span> <span class="token number">3</span> <span class="token string">&quot;Heeeeey&quot;</span>  
<span class="token string">&quot;Khhhhh|&quot;</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">encode</span> <span class="token number">4</span> <span class="token string">&quot;Heeeeey&quot;</span>  
<span class="token string">&quot;Liiiii}&quot;</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">encode</span> <span class="token number">1</span> <span class="token string">&quot;abcd&quot;</span>  
<span class="token string">&quot;bcde&quot;</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">encode</span> <span class="token number">5</span> <span class="token string">&quot;Marry Christmas! Ho ho ho!&quot;</span>  
<span class="token string">&quot;Rfww~%Hmwnxyrfx&amp;%Mt%mt%mt&amp;&quot;</span>
</code></pre></div><p>decode</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">decode</span> <span class="token operator">::</span> <span class="token constant">Int</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>  
<span class="token hvariable">decode</span> <span class="token hvariable">shift</span> <span class="token hvariable">msg</span> <span class="token operator">=</span> <span class="token hvariable">encode</span> <span class="token punctuation">(</span><span class="token builtin">negate</span> <span class="token hvariable">shift</span><span class="token punctuation">)</span> <span class="token hvariable">msg</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">encode</span> <span class="token number">3</span> <span class="token string">&quot;Im a little teapot&quot;</span>  
<span class="token string">&quot;Lp#d#olwwoh#whdsrw&quot;</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">decode</span> <span class="token number">3</span> <span class="token string">&quot;Lp#d#olwwoh#whdsrw&quot;</span>  
<span class="token string">&quot;Im a little teapot&quot;</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">decode</span> <span class="token number">5</span><span class="token operator"> . </span><span class="token hvariable">encode</span> <span class="token number">5</span> <span class="token operator">$</span> <span class="token string">&quot;This is a sentence&quot;</span>  
<span class="token string">&quot;This is a sentence&quot;</span>
</code></pre></div><h2 id="data-map"><a href="#data-map" aria-hidden="true" class="header-anchor">#</a> Data.Map</h2> <p>关联列表(也叫做字典)是按照键值对排列而没有特定顺序的一种 键值对List</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">phoneBook</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">&quot;betty&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;555-2938&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
             <span class="token punctuation">(</span><span class="token string">&quot;bonnie&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;452-2928&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
             <span class="token punctuation">(</span><span class="token string">&quot;patsy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;493-2928&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
             <span class="token punctuation">(</span><span class="token string">&quot;lucille&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;205-2928&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
             <span class="token punctuation">(</span><span class="token string">&quot;wendy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;939-8282&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
             <span class="token punctuation">(</span><span class="token string">&quot;penny&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;853-2492&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">]</span>
</code></pre></div><h3 id="findkey"><a href="#findkey" aria-hidden="true" class="header-anchor">#</a> findKey</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">findKey</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">k</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token hvariable">v</span> 
<span class="token hvariable">findKey</span> <span class="token hvariable">key</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token builtin">snd</span><span class="token operator"> . </span><span class="token builtin">head</span><span class="token operator"> . </span><span class="token builtin">filter</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token hvariable">key</span> <span class="token operator">==</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">$</span> <span class="token hvariable">xs</span>
</code></pre></div><p>如果找不到</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">findKey</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">k</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Maybe</span> <span class="token hvariable">v</span>
<span class="token hvariable">findKey</span> <span class="token hvariable">key</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">Nothing</span>
<span class="token hvariable">findKey</span> <span class="token hvariable">key</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span> <span class="token operator">=</span>
     <span class="token keyword">if</span> <span class="token hvariable">key</span> <span class="token operator">==</span> <span class="token hvariable">k</span> <span class="token keyword">then</span>
         <span class="token constant">Just</span> <span class="token hvariable">v</span>
     <span class="token keyword">else</span>
         <span class="token hvariable">findKey</span> <span class="token hvariable">key</span> <span class="token hvariable">xs</span>
</code></pre></div><p>flod 实现</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">findKey</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">k</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Maybe</span> <span class="token hvariable">v</span> 
<span class="token hvariable">findKey</span> <span class="token hvariable">key</span> <span class="token operator">=</span> <span class="token builtin">foldr</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span> <span class="token hvariable">acc</span> <span class="token operator">-&gt;</span> <span class="token keyword">if</span> <span class="token hvariable">key</span> <span class="token operator">==</span> <span class="token hvariable">k</span> <span class="token keyword">then</span> <span class="token constant">Just</span> <span class="token hvariable">v</span> <span class="token keyword">else</span> <span class="token hvariable">acc</span><span class="token punctuation">)</span> <span class="token constant">Nothing</span>
</code></pre></div><div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">findKey</span> <span class="token string">&quot;betty&quot;</span> <span class="token hvariable">phoneBook</span> 
<span class="token constant">Just</span> <span class="token string">&quot;555-2938&quot;</span> 
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">findKey</span> <span class="token string">&quot;wilma&quot;</span> <span class="token hvariable">phoneBook</span> 
<span class="token constant">Nothing</span>
</code></pre></div><h3 id="fromlist"><a href="#fromlist" aria-hidden="true" class="header-anchor">#</a> fromList</h3> <p>fromList 取一个关联列表，返回一个与之等价的 Map<br>
若其中存在重复的键,就将其忽略,<br>
Map 的 key 必须属于 Ord 类型， 如果Key的型别属于 Ord 型别类，就应该尽量使用Data.Map</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map.fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">&quot;betty&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;555-2938&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;bonnie&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;452-2928&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;lucille&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;205-2928&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">&quot;betty&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;555-2938&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;bonnie&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;452-2928&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;lucille&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;205-2928&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map.fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="map-empty"><a href="#map-empty" aria-hidden="true" class="header-anchor">#</a> Map.empty</h3> <p>返回一个空 map</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map.empty</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="map-insert"><a href="#map-insert" aria-hidden="true" class="header-anchor">#</a> Map.insert</h3> <p>给 map 插入新的键值对</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map.insert</span> <span class="token number">3</span> <span class="token number">100</span> <span class="token hvariable">Map.empty</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map.insert</span> <span class="token number">5</span> <span class="token number">600</span> <span class="token punctuation">(</span><span class="token hvariable">Map.insert</span> <span class="token number">4</span> <span class="token number">200</span> <span class="token punctuation">(</span> <span class="token hvariable">Map.insert</span> <span class="token number">3</span> <span class="token number">100</span>  <span class="token hvariable">Map.empty</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="size"><a href="#size" aria-hidden="true" class="header-anchor">#</a> size</h3> <p>返回一个 map 的大小。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map.size</span> <span class="token hvariable">Map.empty</span>
<span class="token number">0</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map.size</span> <span class="token operator">$</span> <span class="token hvariable">Map.fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token number">5</span>
</code></pre></div><h3 id="singleton"><a href="#singleton" aria-hidden="true" class="header-anchor">#</a> singleton</h3> <p>根据传入的 key value 返回包含一个元素的map</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map.singleton</span> <span class="token number">3</span> <span class="token number">9</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map.insert</span> <span class="token number">5</span> <span class="token number">9</span> <span class="token operator">$</span> <span class="token hvariable">Map.singleton</span> <span class="token number">3</span> <span class="token number">9</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="map-lookup"><a href="#map-lookup" aria-hidden="true" class="header-anchor">#</a> Map.lookup</h3> <p>Map.lookup :: Ord k =&gt; k -&gt; Map k a -&gt; Maybe a</p> <p>根据key找到map 中的 Value</p> <h3 id="member"><a href="#member" aria-hidden="true" class="header-anchor">#</a> member</h3> <p>判断该key是否存在于 map 中</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map.member</span> <span class="token number">3</span> <span class="token operator">$</span> <span class="token hvariable">Map.fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span> 
<span class="token constant">True</span> 
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map.member</span> <span class="token number">3</span> <span class="token operator">$</span> <span class="token hvariable">Map.fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span> 
<span class="token constant">False</span>
</code></pre></div><h3 id="map-与-filter"><a href="#map-与-filter" aria-hidden="true" class="header-anchor">#</a> map 与 filter</h3> <p>与 List 版本很相似</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Map</span><span class="token punctuation">.</span><span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">$</span> <span class="token hvariable">Map.fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">900</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Map</span><span class="token punctuation">.</span><span class="token builtin">filter</span> <span class="token builtin">isUpper</span> <span class="token operator">$</span> <span class="token hvariable">Map.fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token char">'a'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token char">'A'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token char">'b'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token char">'B'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token char">'A'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token char">'B'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="tolist"><a href="#tolist" aria-hidden="true" class="header-anchor">#</a> toList</h3> <p>toList 是 fromList 的反函数。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map.toList</span><span class="token operator"> . </span><span class="token hvariable">Map.insert</span> <span class="token number">9</span> <span class="token number">2</span> <span class="token operator">$</span> <span class="token hvariable">Map.singleton</span> <span class="token number">4</span> <span class="token number">3</span> 
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="keys-与-elems"><a href="#keys-与-elems" aria-hidden="true" class="header-anchor">#</a> keys 与 elems</h3> <p>keys 与 elems 各自返回一组由键或值组成的 List，keys 与 map fst . Map.toList 等价，elems 与 map snd . Map.toList等价. fromListWith 是个很酷的小函数，它与 fromList 很像，只是它不会直接忽略掉重复键，而是交给一个函数来处理它们。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">phoneBook</span> <span class="token operator">=</span>
    <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">&quot;betty&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;555-2938&quot;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;betty&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;342-2492&quot;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;bonnie&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;452-2928&quot;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;patsy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;493-2928&quot;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;patsy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;943-2929&quot;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;patsy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;827-9162&quot;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;lucille&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;205-2928&quot;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;wendy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;939-8282&quot;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;penny&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;853-2492&quot;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;penny&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;555-2111&quot;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">]</span>

<span class="token hvariable">phoneBookToMap</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span> <span class="token constant">String</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Map.Map</span> <span class="token hvariable">k</span> <span class="token constant">String</span>  
<span class="token hvariable">phoneBookToMap</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token hvariable">Map.fromListWith</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">number1</span> <span class="token hvariable">number2</span> <span class="token operator">-&gt;</span> <span class="token hvariable">number1</span> <span class="token operator">++</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">++</span> <span class="token hvariable">number2</span><span class="token punctuation">)</span> <span class="token hvariable">xs</span>
</code></pre></div><h3 id="map更多信息"><a href="#map更多信息" aria-hidden="true" class="header-anchor">#</a> map更多信息</h3> <p><a href="http://www.haskell.org/ghc/docs/latest/html/libraries/containers/Data-Map.html" target="_blank" rel="noopener noreferrer">data-map<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="data-set"><a href="#data-set" aria-hidden="true" class="header-anchor">#</a> Data.Set</h2> <p>Data.Set 模块提供了对数学中集合的处理。集合既像 List 也像 Map: 它里面的每个元素都是唯一的，且内部的数据由一棵树来组织(这和 Data.Map 模块的 map 很像)，必须得是可排序的。同样是插入,删除,判断从属关系之类的操作，使用集合要比 List 快得多。对一个集合而言，最常见的操作莫过于并集，判断从属或是将集合转为 List.</p> <p>由于 Data.Set 模块与 Prelude 模块和 Data.List 模块中存在大量的命名冲突，所以我们使用 qualified import</p> <div class="language-haskelll extra-class"><pre class="language-text"><code>import qualified Data.Set as Set
</code></pre></div><h2 id="建立自己的模块"><a href="#建立自己的模块" aria-hidden="true" class="header-anchor">#</a> 建立自己的模块</h2> <p>文件名和模块名相同，一般以大写开头, 使用 <code>import Geometry</code> 来引入</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token keyword">module</span> <span class="token constant">Geometry</span>  
<span class="token punctuation">(</span> <span class="token hvariable">sphereVolume</span>  
，<span class="token hvariable">sphereArea</span>  
，<span class="token hvariable">cubeVolume</span>  
，<span class="token hvariable">cubeArea</span>  
，<span class="token hvariable">cuboidArea</span>  
，<span class="token hvariable">cuboidVolume</span>  
<span class="token punctuation">)</span> <span class="token keyword">where</span>

<span class="token hvariable">sphereVolume</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>  
<span class="token hvariable">sphereVolume</span> <span class="token hvariable">radius</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">4.0</span> <span class="token operator">/</span> <span class="token number">3.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token builtin">pi</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token hvariable">radius</span> <span class="token operator">^</span> <span class="token number">3</span><span class="token punctuation">)</span>  

<span class="token hvariable">sphereArea</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>  
<span class="token hvariable">sphereArea</span> <span class="token hvariable">radius</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token builtin">pi</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token hvariable">radius</span> <span class="token operator">^</span> <span class="token number">2</span><span class="token punctuation">)</span>  

<span class="token hvariable">cubeVolume</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>  
<span class="token hvariable">cubeVolume</span> <span class="token hvariable">side</span> <span class="token operator">=</span> <span class="token hvariable">cuboidVolume</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span>  

<span class="token hvariable">cubeArea</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>  
<span class="token hvariable">cubeArea</span> <span class="token hvariable">side</span> <span class="token operator">=</span> <span class="token hvariable">cuboidArea</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span>  

<span class="token hvariable">cuboidVolume</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>  
<span class="token hvariable">cuboidVolume</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token hvariable">c</span> <span class="token operator">=</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token operator">*</span> <span class="token hvariable">c</span>  

<span class="token hvariable">cuboidArea</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>  
<span class="token hvariable">cuboidArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token hvariable">c</span> <span class="token operator">=</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">c</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">c</span> <span class="token hvariable">b</span> <span class="token operator">*</span> <span class="token number">2</span>  

<span class="token hvariable">rectangleArea</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>  
<span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token operator">=</span> <span class="token hvariable">a</span> <span class="token operator">*</span> <span class="token hvariable">b</span>
</code></pre></div><p>子模块 Geometry.Cuboid, 在Geometry 文件夹下创建文件 cuboid.hs</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token keyword">module</span> <span class="token constant">Geometry.Cuboid</span>
<span class="token punctuation">(</span>
  <span class="token hvariable">volume</span><span class="token punctuation">,</span>
  <span class="token hvariable">area</span>
<span class="token punctuation">)</span> <span class="token keyword">where</span>

<span class="token hvariable">volume</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">volume</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token hvariable">c</span> <span class="token operator">=</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token operator">*</span> <span class="token hvariable">c</span>

<span class="token hvariable">area</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">area</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token hvariable">c</span> <span class="token operator">=</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">c</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">c</span> <span class="token hvariable">b</span> <span class="token operator">*</span> <span class="token number">2</span>

<span class="token hvariable">rectangleArea</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token operator">=</span> <span class="token hvariable">a</span> <span class="token operator">*</span> <span class="token hvariable">b</span>
</code></pre></div><p>使用 <code>import qualified Geometry.Cuboid as Cuboid</code> 引入来避免重名</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token keyword">module</span> <span class="token constant">Geometry.Cube</span>
<span class="token punctuation">(</span>
  <span class="token hvariable">volume</span><span class="token punctuation">,</span>
  <span class="token hvariable">area</span>
<span class="token punctuation">)</span> <span class="token keyword">where</span>

<span class="token import_statement"><span class="token keyword">import</span> <span class="token keyword">qualified</span> Geometry.Cuboid <span class="token keyword">as</span> Cuboid</span>

<span class="token hvariable">volume</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">volume</span> <span class="token hvariable">side</span> <span class="token operator">=</span> <span class="token hvariable">Cuboid.volume</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span>

<span class="token hvariable">area</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">area</span> <span class="token hvariable">side</span> <span class="token operator">=</span> <span class="token hvariable">Cuboid.area</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span>

</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/haskell/05.high-order.html" class="prev">
          高阶函数
        </a></span> <span class="next"><a href="/haskell/07.build-typeclass.html">
          构建 类型 类型类
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.67e7f428.js" defer></script><script src="/assets/js/22.7fe8571d.js" defer></script>
  </body>
</html>
